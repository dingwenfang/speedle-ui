(function(e){function t(t){for(var o,c,l=t[0],a=t[1],r=t[2],p=0,d=[];p<l.length;p++)c=l[p],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&d.push(i[c][0]),i[c]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,r||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,l=1;l<n.length;l++){var a=n[l];0!==i[a]&&(o=!1)}o&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},i={app:0},s=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/speedle-ui/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var r=0;r<l.length;r++)t(l[r]);var u=a;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2fd2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=n("bc3a"),s=n.n(i),c=n("a7fe"),l=n.n(c),a=n("5f5b"),r=n("b1e0"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("router-view")],1)},p=[],d=n("2877"),f={},b=Object(d["a"])(f,u,p,!1,null,null,null),m=b.exports,v=n("8c4f"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{staticClass:"rounded-0",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"rounded-0",attrs:{"header-bg-variant":"light","header-text-variant":"white"}},[n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{staticClass:"mr-auto",attrs:{cols:"auto"}},[n("b-dropdown",{ref:"settings",attrs:{variant:"info","no-caret":""},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("b-icon",{attrs:{icon:"gear","aria-hidden":"true"}}),e._v(" Settings ")]},proxy:!0}])},[n("b-dropdown-form",{staticStyle:{width:"400px"}},[n("b-form-group",{attrs:{"label-for":"ddf-pms"},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",[e._v("PMS Endpoint")]),n("span",{staticStyle:{"font-size":"0.8rem"}},[e._v("("+e._s(e.pmsEndpointCur)+")")])]},proxy:!0}])},[n("b-form-input",{attrs:{id:"ddf-pms"},model:{value:e.pmsEndpoint,callback:function(t){e.pmsEndpoint=t},expression:"pmsEndpoint"}})],1),n("b-form-group",{attrs:{"label-for":"ddf-ads"},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",[e._v("ADS Endpoint")]),n("span",{staticStyle:{"font-size":"0.8rem"}},[e._v("("+e._s(e.adsEndpointCur)+")")])]},proxy:!0}])},[n("b-form-input",{attrs:{id:"ddf-ads"},model:{value:e.adsEndpoint,callback:function(t){e.adsEndpoint=t},expression:"adsEndpoint"}})],1),n("b-button",{attrs:{variant:"info",size:"sm"},on:{click:e.updateSettings}},[e._v("OK")])],1)],1)],1),n("b-col",{staticClass:"mr-auto",attrs:{cols:"auto"}},[n("b-img",{attrs:{src:"sp_logo_1_008.png",block:""}})],1),n("b-col",{attrs:{cols:"auto"}},[n("b-dropdown",{attrs:{variant:"info","no-caret":""},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("b-icon",{attrs:{icon:"question-circle","aria-hidden":"true"}}),e._v(" About ")]},proxy:!0}])},[n("b-dropdown-item",{attrs:{href:"https://github.com/teramoby/speedle-plus"}},[e._v(" source code")]),n("b-dropdown-divider"),n("b-dropdown-item",{attrs:{href:"https://speedle.io/"}},[e._v("docs")])],1)],1)],1)],1),n("b-row",{attrs:{"no-gutters":""}},[n("b-col",{staticClass:"m-0 p-0 overflow-auto",attrs:{cols:"4"}},[n("PolicyStore")],1),e.selectedSvc.length>0?n("b-col",{staticClass:"m-0 p-0 overflow-auto",attrs:{cols:"8"}},[n("Service")],1):!0===e.functionsSelected?n("b-col",{staticClass:"m-0 p-0 overflow-auto",attrs:{cols:"8"}},[n("Functions")],1):n("b-col",{staticClass:"m-0 p-0 overflow-auto",attrs:{cols:"8"}},[n("Welcome")],1)],1)],1)},y=[],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{staticClass:"border-0 rounded-0  vh-100 overflow-auto",attrs:{"bg-variant":"light","no-body":""}},[n("b-card-header",{staticClass:"border-right rounded-0",attrs:{"header-bg-variant":"info","header-text-variant":"white"}},[e._v(" Policy Store ")]),n("b-card-body",{staticClass:"border-right"},[n("b-row",{staticClass:"mt-3 mb-2 "},[n("b-col",{attrs:{cols:"5"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.service-list",modifiers:{"service-list":!0}}],attrs:{block:"",variant:"info"},on:{click:function(t){e.serviceListVisible=!e.serviceListVisible}}},[e._v(" Services "),n("b-icon",{attrs:{icon:e.servicesIcon,"aria-hidden":"true",size:"sm"}})],1)],1),n("b-col",{staticClass:"ml-auto",attrs:{cols:"auto"}},[n("b-form-input",{staticClass:"p-0 m-0",staticStyle:{width:"3rem"},attrs:{type:"text",size:"sm",placeholder:"*"},model:{value:e.serviceSearch,callback:function(t){e.serviceSearch=t},expression:"serviceSearch"}})],1)],1),n("b-row",{staticClass:"mb-2",attrs:{"align-h":"end"}},[n("b-col",{attrs:{cols:"auto"}},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.createSvc",modifiers:{createSvc:!0}}],attrs:{pill:"",variant:"outline-info",size:"sm"}},[n("b-icon",{attrs:{icon:"pencil-square","aria-hidden":"true"}})],1),n("b-modal",{ref:"createSvcModal",attrs:{id:"createSvc",title:"Create Service"},on:{show:e.resetNewSvc,hidden:e.resetNewSvc,ok:e.handleOk}},[n("form",{ref:"createSvcform",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[n("b-form-group",{attrs:{label:"Name:","label-align":"right","label-cols":"4","label-for":"input-name"}},[n("b-form-input",{attrs:{id:"input-name",state:e.newSvcNameState,required:""},model:{value:e.newSvc.name,callback:function(t){e.$set(e.newSvc,"name",t)},expression:"newSvc.name"}})],1),n("b-form-group",{attrs:{label:"Type:","label-align":"right","label-cols":"4","label-for":"input-type"}},[n("b-form-input",{attrs:{id:"input-type"},model:{value:e.newSvc.type,callback:function(t){e.$set(e.newSvc,"type",t)},expression:"newSvc.type"}})],1)],1)])],1),n("b-col",{attrs:{cols:"auto"}},[n("b-button",{attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:e.refreshServices}},[n("b-icon",{attrs:{icon:"arrow-repeat","aria-hidden":"true",size:"sm"}})],1)],1)],1),n("b-collapse",{attrs:{id:"service-list"},model:{value:e.serviceListVisible,callback:function(t){e.serviceListVisible=t},expression:"serviceListVisible"}},[n("b-list-group",{attrs:{flush:""}},e._l(e.filteredServices,(function(t){return n("b-list-group-item",{key:t.name,attrs:{button:""},on:{click:function(n){return e.setSvcName(t.name)}}},[n("b-row",[n("b-col",{attrs:{cols:"2"}}),n("b-col",{attrs:{cols:"7"}},[e._v(e._s(t.name))]),n("b-col",{attrs:{cols:"3"}},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.name,expression:"s.name"}],staticClass:"h-75 mb-2",attrs:{pill:"",variant:"outline-danger",size:"sm"},on:{click:function(e){e.stopPropagation()}}},[n("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1),n("b-modal",{attrs:{id:t.name,title:"Delete Service"},on:{ok:function(n){return e.deleteSvc(t.name)}}},[n("p",[e._v("Continue deleting service "+e._s(t.name)+"?")])])],1)],1)],1)})),1)],1),n("b-row",{staticClass:"mt-3 mb-2"},[n("b-col",{attrs:{cols:"5"}},[n("b-button",{attrs:{block:"",variant:"info"},on:{click:e.functionSelected}},[e._v(" Functions ")])],1)],1)],1)],1)},w=[],P=(n("99af"),n("4de4"),n("caad"),n("b0c0"),n("2532"),{name:"PolicyStore",data:function(){return{getServicesSucceed:!1,serviceListVisible:!1,serviceSearch:"",functionSearch:"",services:[],newSvc:{name:"",type:""},newSvcNameState:null,functions:[]}},computed:{filteredServices:function(){var e=this;return this.services.filter((function(t){return t.name.toLowerCase().includes(e.serviceSearch.toLowerCase())}))},pmsEndpoint:function(){return this.$store.state.pmsEndpoint},servicesIcon:function(){return this.serviceListVisible?"chevron-up":"chevron-down"}},watch:{pmsEndpoint:function(e){""!==e&&(this.setSvcName(""),this.refreshServices())}},methods:{functionSelected:function(){this.$store.commit("updateSvcName",""),this.$store.commit("selectFunctions")},setSvcName:function(e){console.log(this.$store.state.svcName),e!==this.$store.state.svcName&&(console.log("setSvcName ".concat(e)),this.$store.commit("updateSvcName",e))},refreshServices:function(){var e=this;this.axios.get("".concat(this.pmsEndpoint,"/service")).then((function(t){console.log(t.data),e.services=t.data,e.getServicesSucceed=!0})).catch((function(t){console.log(t),e.services=[],e.$bvToast.toast("".concat(t.message),{title:"Fail to get services",variant:"danger",solid:!0}),e.getServicesSucceed=!1}))},deleteSvc:function(e){var t=this;console.log("deleteSvc ".concat(e)),this.axios.delete("".concat(this.pmsEndpoint,"/service/").concat(e)).then((function(n){console.log(n.data),t.refreshServices(),t.$store.state.svcName===e&&t.setSvcName("")})).catch((function(n){console.log(n),t.$bvToast.toast("".concat(n.message),{title:"Fail to delete service ".concat(e),variant:"danger",solid:!0})}))},createSvc:function(){var e=this;console.log("createSvc"),console.log(this.newSvc.name),this.axios.post("".concat(this.pmsEndpoint,"/service"),{name:this.newSvc.name,type:this.newSvc.type}).then((function(t){console.log(t.data),e.refreshServices()})).catch((function(t){console.log(t),e.$bvToast.toast("".concat(t.message),{title:"Fail to create service",variant:"danger",solid:!0})}))},resetNewSvc:function(){this.newSvc.name="",this.newSvc.type="",this.newSvcNameState=null},checkFormValidity:function(){console.log("checkFormValidity...");var e=this.$refs.createSvcform.checkValidity();return this.newSvcNameState=e,e},handleOk:function(e){console.log("handleOk..."),e.preventDefault(),this.handleSubmit()},handleSubmit:function(){var e=this;console.log("handleSubmit..."),this.checkFormValidity()&&(this.createSvc(),this.$nextTick((function(){e.$bvModal.hide("createSvc")})))}},mounted:function(){var e=this;this.refreshServices(),this.axios.get("".concat(this.pmsEndpoint,"/function")).then((function(t){console.log(t.data),e.functions=t.data})).catch((function(t){console.log(t),e.$bvToast.toast("".concat(t.message),{title:"Fail to get functions",variant:"danger",solid:!0})}))}}),S=P,k=Object(d["a"])(S,g,w,!1,null,null,null),x=k.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{staticClass:"border-0 rounded-0  vh-100 overflow-auto",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"border-left rounded-0",attrs:{"header-bg-variant":"info","header-text-variant":"white"}},[e._v(" Service Name: "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.svcName))])]),n("b-card",{staticClass:"rounded-0 border-0 border-left",attrs:{"no-body":""}},[n("b-tabs",{attrs:{card:"","active-nav-item-class":"font-weight-bold text-info"}},[n("b-tab",{attrs:{title:"Policies",active:""}},[n("b-row",[n("b-col",{attrs:{cols:"10"}},[n("b-button",{staticClass:"mt-3 mb-3",attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:function(t){e.newPolicyVisible=!e.newPolicyVisible}}},[n("b-icon",{attrs:{icon:"pencil-square","aria-hidden":"true"}})],1)],1),n("b-col",{attrs:{cols:"2"}},[n("b-button",{staticClass:"mt-3 mb-3",attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:e.refreshPolicies}},[n("b-icon",{attrs:{icon:"arrow-repeat","aria-hidden":"true"}})],1)],1)],1),n("b-collapse",{attrs:{id:"newPolicy"},model:{value:e.newPolicyVisible,callback:function(t){e.newPolicyVisible=t},expression:"newPolicyVisible"}},[n("NewPolicy",{attrs:{policy:e.newPolicy,andPrincipal:e.newPolicyAndPrincipal,permission:e.newPolicyPermission},on:{addPolicy:e.addPolicy}})],1),n("b-card",[n("PolicyTable",{attrs:{policies:e.policies},on:{removePolicy:e.removePolicy}})],1)],1),n("b-tab",{attrs:{title:"Role Policies"}},[n("b-row",[n("b-col",{attrs:{cols:"10"}},[n("b-button",{staticClass:"mt-3 mb-3",attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:function(t){e.newRolePolicyVisible=!e.newRolePolicyVisible}}},[n("b-icon",{attrs:{icon:"pencil-square","aria-hidden":"true"}})],1)],1),n("b-col",{attrs:{cols:"2"}},[n("b-button",{staticClass:"mt-3 mb-3",attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:e.refreshRolePolicies}},[n("b-icon",{attrs:{icon:"arrow-repeat","aria-hidden":"true"}})],1)],1)],1),n("b-collapse",{attrs:{id:"newRolePolicy"},model:{value:e.newRolePolicyVisible,callback:function(t){e.newRolePolicyVisible=t},expression:"newRolePolicyVisible"}},[n("NewRolePolicy",{attrs:{rolePolicy:e.newRolePolicy,principal:e.newRolePolicyPrincipal,role:e.newRolePolicyRole,resource:e.newRolePolicyResource},on:{addRolePolicy:e.addRolePolicy}})],1),n("b-card",[n("RolePolicyTable",{attrs:{rolePolicies:e.rolePolicies},on:{removeRolePolicy:e.removeRolePolicy}})],1)],1)],1)],1)],1)},C=[],E=(n("d3b7"),n("ddb0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",[n("b-form-group",{staticClass:"mb-0"},[n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Effect:","label-align-sm":"right","label-for":"policy-effect"}},[n("b-row",[n("b-col",{attrs:{cols:"5"}},[n("b-form-select",{attrs:{id:"policy-effect",options:e.effectOptions},model:{value:e.policy.effect,callback:function(t){e.$set(e.policy,"effect",t)},expression:"policy.effect"}})],1)],1)],1),n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Principals:","label-align-sm":"right"}},[n("b-row",[n("b-col",{attrs:{cols:"5"}},[n("b-card",[e.policy.principals.length?n("ul",e._l(e.policy.principals,(function(t){return n("AndPrincipal",{key:t.id,attrs:{principal:t},on:{removePrincipal:e.removePrincipal}})})),1):e._e()])],1),n("b-col",{attrs:{cols:"2","align-self":"center"}},[n("b-button",{staticClass:"mt-2 ml-2 mb-2",attrs:{pill:"",variant:"outline-info"},on:{click:e.addPrincipal}},[n("b-icon",{attrs:{icon:"chevron-double-left","aria-hidden":"true"}})],1)],1),n("b-col",{attrs:{cols:"5","align-self":"center"}},e._l(e.andPrincipal,(function(t){return n("b-row",{key:t.id},[n("b-col",{staticClass:"pr-0",attrs:{cols:"5"}},[n("b-form-select",{attrs:{options:e.principalTypeOptions},model:{value:t.type,callback:function(n){e.$set(t,"type",n)},expression:"p.type"}})],1),n("b-col",{attrs:{cols:"5"}},[n("b-form-input",{attrs:{placeholder:"name"},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"p.name"}})],1),1==e.andPrincipal.length?n("b-col",{staticClass:"ml-0 pl-0 mr-0 pr-0",attrs:{cols:"2"}},[n("b-button",{attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:e.addAnd}},[e._v("&")])],1):n("b-col",{staticClass:"ml-0 pl-0 mr-0 pr-0",attrs:{cols:"2"}},[n("b-button",{attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:e.addAnd}},[e._v("&")]),n("b-button",{attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:function(n){return e.removeAnd(t.id)}}},[e._v("-")])],1)],1)})),1)],1)],1),n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Permissions:","label-align-sm":"right"}},[n("b-row",[n("b-col",{attrs:{cols:"5"}},[n("b-card",[e.policy.permissions.length?n("ul",e._l(e.policy.permissions,(function(t){return n("Permission",{key:t.id,attrs:{permission:t},on:{removePermission:e.removePermission}})})),1):e._e()])],1),n("b-col",{attrs:{cols:"2","align-self":"center"}},[n("b-button",{staticClass:"mt-2 ml-2 mb-2",attrs:{pill:"",variant:"outline-info"},on:{click:e.addPermission}},[n("b-icon",{attrs:{icon:"chevron-double-left","aria-hidden":"true"}})],1)],1),n("b-col",{attrs:{cols:"5","align-self":"center"}},[n("b-row",{attrs:{"align-v":"end"}},[n("b-col",{staticClass:"pr-0",attrs:{cols:"5"}},[n("b-form-input",{attrs:{placeholder:"action"},model:{value:e.permission.action,callback:function(t){e.$set(e.permission,"action",t)},expression:"permission.action"}})],1),n("b-col",{attrs:{cols:"7"}},[n("b-form-checkbox",{attrs:{value:"true","unchecked-value":"false"},model:{value:e.permission.isResExp,callback:function(t){e.$set(e.permission,"isResExp",t)},expression:"permission.isResExp"}},[e._v("resource expression")]),n("b-form-input",{attrs:{placeholder:"resource"},model:{value:e.permission.resource,callback:function(t){e.$set(e.permission,"resource",t)},expression:"permission.resource"}})],1)],1)],1)],1)],1),n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Condition:","label-align-sm":"right","label-for":"policy-condition"}},[n("b-row",[n("b-col",{attrs:{cols:"5"}},[n("b-form-input",{model:{value:e.policy.condition,callback:function(t){e.$set(e.policy,"condition",t)},expression:"policy.condition"}})],1)],1)],1)],1),n("b-button",{attrs:{variant:"outline-info"},on:{click:function(t){return e.$emit("addPolicy",e.policy)}}},[e._v(" Create ")])],1)}),R=[],F=(n("ac1f"),n("1276"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("b-row",[n("b-col",{attrs:{cols:"9"}},[e._v(" "+e._s(e.andPrincipalString)+" ")]),n("b-col",{attrs:{cols:"3"}},[n("b-button",{staticClass:"mb-2",attrs:{pill:"",variant:"outline-danger",size:"sm"},on:{click:function(t){return e.$emit("removePrincipal",e.principal.id)}}},[n("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1)],1)],1)],1)}),$=[],T={name:"AndPrincipal",props:{principal:{type:Object,required:!0}},computed:{andPrincipalString:function(){var e=this.principal.andPrincipal.values(),t=e.next(),n="".concat(t.value.type,":").concat(t.value.name);t=e.next();while(!t.done)n+=" & ".concat(t.value.type,":").concat(t.value.name),t=e.next();return n}}},N=T,O=Object(d["a"])(N,F,$,!1,null,null,null),j=O.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("b-row",{attrs:{overflow:"auto"}},[e.permission.isResExp?n("b-col",{attrs:{cols:"9"}},[e._v(" "+e._s(e.actions)+" expr:"+e._s(e.permission.resource)+" ")]):n("b-col",{attrs:{cols:"9"}},[e._v(" "+e._s(e.actions)+" "+e._s(e.permission.resource)+" ")]),n("b-col",{attrs:{cols:"3"}},[n("b-button",{staticClass:"mb-2",attrs:{pill:"",variant:"outline-danger",size:"sm"},on:{click:function(t){return e.$emit("removePermission",e.permission.id)}}},[n("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1)],1)],1)],1)},V=[],z={name:"Permission",props:{permission:{type:Object,required:!0}},computed:{actions:function(){var e=this.permission.actions.values(),t="",n=e.next();while(!n.done)0===t.length?t+=n.value:t+=",".concat(n.value),n=e.next();return t}}},A=z,q=Object(d["a"])(A,L,V,!1,null,null,null),D=q.exports,U=0,M=0,G=1,H={name:"NewPolicy",components:{AndPrincipal:j,Permission:D},props:{policy:{type:Object,required:!0},andPrincipal:{type:Array,required:!0},permission:{type:Object,required:!0}},data:function(){return{effectOptions:[{value:"grant",text:"GRANT"},{value:"deny",text:"DENY"}],principalTypeOptions:[{value:"user",text:"User"},{value:"group",text:"Group"},{value:"role",text:"Role"},{value:"entity",text:"Entity"}]}},methods:{addAnd:function(){G+=1,this.andPrincipal.push({id:G,type:"",name:""})},removeAnd:function(e){this.andPrincipal=this.andPrincipal.filter((function(t){return t.id!==e}))},addPrincipal:function(){var e=[];U+=1;var t=this.andPrincipal.values(),n=t.next();while(!n.done)e.push({type:n.value.type,name:n.value.name}),n=t.next();this.policy.principals.push({id:U,andPrincipal:e})},removePrincipal:function(e){this.policy.principals=this.policy.principals.filter((function(t){return t.id!==e}))},addPermission:function(){M+=1;var e=this.permission.action.split(",");this.policy.permissions.push({id:M,actions:e,resource:this.permission.resource,isResExp:this.permission.isResExp})},removePermission:function(e){this.policy.permissions=this.policy.permissions.filter((function(t){return t.id!==e}))}}},W=H,I=(n("fecb"),Object(d["a"])(W,E,R,!1,null,null,null)),J=I.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-table",{attrs:{hover:"",small:"",responsive:"","head-variant":"light",fields:e.fields,items:e.policies},scopedSlots:e._u([{key:"cell(operation)",fn:function(t){return[n("b-button",{attrs:{pill:"",variant:"outline-danger",size:"sm"},on:{click:function(n){return e.$emit("removePolicy",t.item.id)}}},[n("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1)]}},{key:"cell(principals)",fn:function(t){return[n("ul",{staticClass:"list-unstyled"},e._l(t.value,(function(t,o){return n("li",{key:o},[e._v(" "+e._s(t)+" ")])})),0)]}},{key:"cell(permissions)",fn:function(t){return[n("ul",{staticClass:"list-unstyled"},e._l(t.value,(function(t,o){return n("li",{key:o},[e._v(" "+e._s(t.actions)+" "+e._s(t.resource)+" ")])})),0)]}}])})],1)},K=[],B=n("b85c"),Q={name:"PolicyTable",props:{policies:{type:Array,required:!0}},data:function(){return{fields:[{key:"effect",label:"Effect",formatter:function(e){return e.toUpperCase()}},{key:"principals",label:"Principals",formatter:"principalsToString"},{key:"permissions",label:"Permissions",formatter:"permissionsToString"},{key:"condition",label:"Condition"},{key:"operation"}]}},methods:{principalsToString:function(e){var t,n=[],o=Object(B["a"])(e);try{for(o.s();!(t=o.n()).done;){var i,s=t.value,c="",l=Object(B["a"])(s);try{for(l.s();!(i=l.n()).done;){var a=i.value;0===c.length?c=a:c+=" & ".concat(a)}}catch(r){l.e(r)}finally{l.f()}n.push(c)}}catch(r){o.e(r)}finally{o.f()}return n},permissionsToString:function(e){var t,n=[],o=Object(B["a"])(e);try{for(o.s();!(t=o.n()).done;){var i,s=t.value,c="",l=Object(B["a"])(s.actions);try{for(l.s();!(i=l.n()).done;){var a=i.value;c.length>0&&(c+=","),c+=a}}catch(r){l.e(r)}finally{l.f()}void 0===s.resourceExpression?n.push({actions:c,resource:s.resource}):n.push({actions:c,resource:"expr:".concat(s.resourceExpression)})}}catch(r){o.e(r)}finally{o.f()}return n}}},X=Q,Z=Object(d["a"])(X,Y,K,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",[n("b-form-group",{staticClass:"mb-0"},[n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Effect:","label-align-sm":"right","label-for":"rp-effect"}},[n("b-row",[n("b-col",{attrs:{cols:"5"}},[n("b-form-select",{attrs:{id:"rp-effect",options:e.effectOptions},model:{value:e.rolePolicy.effect,callback:function(t){e.$set(e.rolePolicy,"effect",t)},expression:"rolePolicy.effect"}})],1)],1)],1),n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Principals:","label-align-sm":"right"}},[n("b-row",[n("b-col",{attrs:{cols:"5"}},[n("b-card",[e.rolePolicy.principals.length?n("ul",e._l(e.rolePolicy.principals,(function(t,o){return n("li",{key:o},[n("b-row",[n("b-col",{attrs:{cols:"9"}},[e._v(" "+e._s(t)+" ")]),n("b-col",{attrs:{cols:"3"}},[n("b-button",{staticClass:"mb-2",attrs:{pill:"",variant:"outline-danger",size:"sm"},on:{click:function(t){return e.removePrincipal(o)}}},[n("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1)],1)],1)],1)})),0):e._e()])],1),n("b-col",{attrs:{cols:"2","align-self":"center"}},[n("b-button",{staticClass:"mt-2 ml-2 mb-2",attrs:{pill:"",variant:"outline-info"},on:{click:e.addPrincipal}},[n("b-icon",{attrs:{icon:"chevron-double-left","aria-hidden":"true"}})],1)],1),n("b-col",{attrs:{cols:"5","align-self":"center"}},[n("b-row",[n("b-col",{staticClass:"pr-0",attrs:{cols:"5"}},[n("b-form-select",{attrs:{options:e.principalTypeOptions},model:{value:e.principal.type,callback:function(t){e.$set(e.principal,"type",t)},expression:"principal.type"}})],1),n("b-col",{attrs:{cols:"7"}},[n("b-form-input",{attrs:{placeholder:"name"},model:{value:e.principal.name,callback:function(t){e.$set(e.principal,"name",t)},expression:"principal.name"}})],1)],1)],1)],1)],1),n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Roles:","label-align-sm":"right"}},[n("b-row",[n("b-col",{attrs:{cols:"5"}},[n("b-card",[e.rolePolicy.roles.length?n("ul",e._l(e.rolePolicy.roles,(function(t,o){return n("li",{key:o},[n("b-row",[n("b-col",{attrs:{cols:"9"}},[e._v(" "+e._s(t)+" ")]),n("b-col",{attrs:{cols:"3"}},[n("b-button",{staticClass:"mb-2",attrs:{pill:"",variant:"outline-danger",size:"sm"},on:{click:function(t){return e.removeRole(o)}}},[n("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1)],1)],1)],1)})),0):e._e()])],1),n("b-col",{attrs:{cols:"2","align-self":"center"}},[n("b-button",{staticClass:"mt-2 ml-2 mb-2",attrs:{pill:"",variant:"outline-info"},on:{click:e.addRole}},[n("b-icon",{attrs:{icon:"chevron-double-left","aria-hidden":"true"}})],1)],1),n("b-col",{attrs:{cols:"5","align-self":"center"}},[n("b-form-input",{model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1)],1)],1),n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Resources:","label-align-sm":"right"}},[n("b-row",[n("b-col",{attrs:{cols:"5"}},[n("b-card",[e.rolePolicy.resources.length?n("ul",e._l(e.rolePolicy.resources,(function(t,o){return n("li",{key:o},[n("b-row",[n("b-col",{attrs:{cols:"9"}},[e._v(" "+e._s(t)+" ")]),n("b-col",{attrs:{cols:"3"}},[n("b-button",{staticClass:"mb-2",attrs:{pill:"",variant:"outline-danger",size:"sm"},on:{click:function(t){return e.removeResource(o)}}},[n("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1)],1)],1)],1)})),0):e._e()])],1),n("b-col",{attrs:{cols:"2","align-self":"center"}},[n("b-button",{staticClass:"mt-2 ml-2 mb-2",attrs:{pill:"",variant:"outline-info"},on:{click:e.addResource}},[n("b-icon",{attrs:{icon:"chevron-double-left","aria-hidden":"true"}})],1)],1),n("b-col",{attrs:{cols:"5","align-self":"center"}},[n("b-form-input",{model:{value:e.resource,callback:function(t){e.resource=t},expression:"resource"}})],1)],1)],1),n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Condition:","label-align-sm":"right","label-for":"policy-condition"}},[n("b-row",[n("b-col",{attrs:{cols:"5"}},[n("b-form-input",{model:{value:e.rolePolicy.condition,callback:function(t){e.$set(e.rolePolicy,"condition",t)},expression:"rolePolicy.condition"}})],1)],1)],1)],1),n("b-button",{attrs:{variant:"outline-info"},on:{click:function(t){return e.$emit("addRolePolicy",e.rolePolicy)}}},[e._v(" Create ")])],1)},ne=[],oe=(n("a434"),{name:"NewRolePolicy",components:{},props:{rolePolicy:{type:Object,required:!0},principal:{type:Object,required:!0},role:{type:String,required:!0},resource:{type:String,required:!0}},data:function(){return{effectOptions:[{value:"grant",text:"GRANT"},{value:"deny",text:"DENY"}],principalTypeOptions:[{value:"user",text:"User"},{value:"group",text:"Group"},{value:"role",text:"Role"},{value:"entity",text:"Entity"}]}},methods:{addRole:function(){this.rolePolicy.roles.push(this.role)},removeRole:function(e){this.rolePolicy.roles.splice(e,1)},addPrincipal:function(){this.rolePolicy.principals.push("".concat(this.principal.type,":").concat(this.principal.name))},removePrincipal:function(e){this.rolePolicy.principals.splice(e,1)},addResource:function(){this.rolePolicy.resources.push(this.resource)},removeResource:function(e){this.rolePolicy.resources.splice(e,1)}}}),ie=oe,se=(n("5ef7"),Object(d["a"])(ie,te,ne,!1,null,null,null)),ce=se.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-table",{attrs:{hover:"",small:"",responsive:"","head-variant":"light",fields:e.fields,items:e.rolePolicies},scopedSlots:e._u([{key:"cell(operation)",fn:function(t){return[n("b-button",{attrs:{pill:"",variant:"outline-danger",size:"sm"},on:{click:function(n){return e.$emit("removeRolePolicy",t.item.id)}}},[n("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1)]}},{key:"cell(principals)",fn:function(t){return[n("ul",{staticClass:"list-unstyled"},e._l(t.value,(function(t,o){return n("li",{key:o},[e._v(" "+e._s(t)+" ")])})),0)]}},{key:"cell(roles)",fn:function(t){return[n("ul",{staticClass:"list-unstyled"},e._l(t.value,(function(t,o){return n("li",{key:o},[e._v(" "+e._s(t)+" ")])})),0)]}},{key:"cell(resources)",fn:function(t){return[n("ul",{staticClass:"list-unstyled"},e._l(t.value,(function(t,o){return n("li",{key:o},[e._v(" "+e._s(t)+" ")])})),0)]}}])})],1)},ae=[],re={name:"RolePolicyTable",props:{rolePolicies:{type:Array,required:!0}},data:function(){return{fields:[{key:"effect",label:"Effect",formatter:function(e){return e.toUpperCase()}},{key:"principals",label:"Principals"},{key:"roles",label:"Roles"},{key:"resources",label:"Resources"},{key:"condition",label:"Condition"},{key:"operation"}]}},methods:{}},ue=re,pe=Object(d["a"])(ue,le,ae,!1,null,null,null),de=pe.exports,fe={name:"Service",components:{NewPolicy:J,PolicyTable:ee,NewRolePolicy:ce,RolePolicyTable:de},data:function(){return{policies:[],rolePolicies:[],newPolicy:{effect:"",principals:[],permissions:[],condition:""},newPolicyAndPrincipal:[{id:0,type:"",name:""}],newPolicyPermission:{action:"",resource:""},newPolicyVisible:!1,newRolePolicy:{effect:"",principals:[],roles:[],resources:[],condition:""},newRolePolicyVisible:!1,newRolePolicyPrincipal:{type:"",name:""},newRolePolicyRole:"",newRolePolicyResource:""}},computed:{svcName:function(){return this.$store.state.svcName},pmsEndpoint:function(){return this.$store.state.pmsEndpoint}},watch:{svcName:function(e){var t=this;""!==e?(this.resetNewPolicyData(),this.axios.get("".concat(this.pmsEndpoint,"/service/").concat(e,"/policy")).then((function(e){console.log(e.data),t.policies=e.data})).catch((function(e){console.log(e),console.log(e.response.data),console.log(e.response.status),t.policies=[],t.$bvToast.toast("Fail to get policies",{title:"".concat(e.response.status),variant:"danger",solid:!0})})),this.axios.get("".concat(this.pmsEndpoint,"/service/").concat(e,"/role-policy")).then((function(e){console.log(e.data),t.rolePolicies=e.data})).catch((function(e){console.log(e),console.log(e.response.data),console.log(e.response.status),t.rolePolicies=[],t.$bvToast.toast("Fail to get role policies",{title:"".concat(e.response.status),variant:"danger",solid:!0})}))):(this.policies=[],this.rolePolicies=[])}},methods:{resetNewPolicyData:function(){this.newPolicy={effect:"",principals:[],permissions:[],condition:""},this.newPolicyPrincipal=[{id:0,type:"",name:""}],this.newPolicyPermission={action:"",resource:"",isResExp:!1},this.newPolicyVisible=!1,this.newRolePolicy={effect:"",principals:[],roles:[],resources:[],condition:""},this.newRolePolicyVisible=!1,this.newRolePolicyPrincipal={type:"",name:""},this.newRolePolicyRole="",this.newRolePolicyResource=""},refreshPolicies:function(){var e=this;this.axios.get("".concat(this.pmsEndpoint,"/service/").concat(this.svcName,"/policy")).then((function(t){console.log(t.data),e.policies=t.data})).catch((function(t){console.log(t),e.policies=[],e.$bvToast.toast("".concat(t.message),{title:"Fail to get policies",variant:"danger",solid:!0})}))},refreshRolePolicies:function(){var e=this;this.axios.get("".concat(this.pmsEndpoint,"/service/").concat(this.svcName,"/role-policy")).then((function(t){console.log(t.data),e.rolePolicies=t.data})).catch((function(t){console.log(t),e.rolePolicies=[],e.$bvToast.toast("".concat(t.message),{title:"Fail to get role policies",variant:"danger",solid:!0})}))},addPolicy:function(e){var t=this;console.log("addPolicy");var n=[],o=e.principals.values(),i=o.next();while(!i.done){console.log(i.value.andPrincipal);var s=i.value.andPrincipal.values(),c=s.next(),l=[];while(!c.done)l.push("".concat(c.value.type,":").concat(c.value.name)),c=s.next();n.push(l),i=o.next()}console.log(n);var a=[],r=e.permissions.values(),u=r.next();while(!u.done)u.value.isResExp?a.push({actions:u.value.actions,resourceExpression:u.value.resource}):a.push({actions:u.value.actions,resource:u.value.resource}),u=r.next();this.axios.post("".concat(this.pmsEndpoint,"/service/").concat(this.svcName,"/policy"),{name:"policy desc",effect:e.effect,principals:n,permissions:a,condition:e.condition}).then((function(e){console.log(e),t.refreshPolicies()})).catch((function(e){console.log(e),t.$bvToast.toast("".concat(e.message),{title:"Fail to create policy",variant:"danger",solid:!0})}))},removePolicy:function(e){var t=this;this.axios.delete("".concat(this.pmsEndpoint,"/service/").concat(this.svcName,"/policy/").concat(e)).then((function(e){console.log(e),t.refreshPolicies()})).catch((function(e){console.log(e),t.$bvToast.toast("".concat(e.message),{title:"Fail to delete policy",variant:"danger",solid:!0})}))},addRolePolicy:function(e){var t=this;console.log("addRolePolicy"),this.axios.post("".concat(this.pmsEndpoint,"/service/").concat(this.svcName,"/role-policy"),{name:"role policy desc",effect:e.effect,principals:e.principals,roles:e.roles,resources:e.resources,condition:e.condition}).then((function(e){console.log(e),t.refreshRolePolicies()})).catch((function(e){console.log(e),t.$bvToast.toast("".concat(e.message),{title:"Fail to create role policy",variant:"danger",solid:!0})}))},removeRolePolicy:function(e){var t=this;this.axios.delete("".concat(this.pmsEndpoint,"/service/").concat(this.svcName,"/role-policy/").concat(e)).then((function(e){console.log(e),t.refreshRolePolicies()})).catch((function(e){console.log(e),t.$bvToast.toast("".concat(e.message),{title:"Fail to delete role policy",variant:"danger",solid:!0})}))}},mounted:function(){""!==this.svcName&&(this.refreshPolicies(),this.refreshRolePolicies())}},be=fe,me=Object(d["a"])(be,_,C,!1,null,null,null),ve=me.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{staticClass:"border-0 rounded-0  vh-100 overflow-auto",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"border-left rounded-0",attrs:{"header-bg-variant":"info","header-text-variant":"white"}},[e._v(" Functions ")]),n("b-card-body",[n("b-row",[n("b-col",{attrs:{cols:"8"}},[n("b-button",{staticClass:"mt-3 mb-3",attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:function(t){e.newFunctionVisible=!e.newFunctionVisible}}},[n("b-icon",{attrs:{icon:"pencil-square","aria-hidden":"true"}})],1)],1),n("b-col",{attrs:{cols:"2"}},[n("b-button",{staticClass:"mt-3 mb-3",attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:e.refreshFunctions}},[n("b-icon",{attrs:{icon:"arrow-repeat","aria-hidden":"true"}})],1)],1),n("b-col",{attrs:{cols:"2"}},[n("b-form-input",{staticClass:"mt-3 mb-3",attrs:{size:"sm",type:"text",placeholder:"*"},model:{value:e.functionSearch,callback:function(t){e.functionSearch=t},expression:"functionSearch"}})],1)],1),n("b-collapse",{attrs:{id:"newFunction"},model:{value:e.newFunctionVisible,callback:function(t){e.newFunctionVisible=t},expression:"newFunctionVisible"}},[n("NewFunction",{attrs:{newFunc:e.newFunction},on:{addFunction:e.addFunction}})],1),n("b-card",[n("FunctionTable",{attrs:{functions:e.filteredFunctions},on:{removeFunction:e.removeFunction}})],1)],1)],1)},ye=[],ge=(n("a4d3"),n("e01a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",[n("b-form-group",{staticClass:"mb-0"},[n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Name:","label-align-sm":"right","label-for":"function-name","invalid-feedback":e.invalidNameFeedback,state:e.nameState}},[n("b-form-input",{attrs:{id:"function-name"},model:{value:e.newFunc.name,callback:function(t){e.$set(e.newFunc,"name",t)},expression:"newFunc.name"}})],1),n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Description:","label-align-sm":"right","label-for":"function-desc"}},[n("b-form-input",{attrs:{id:"function-desc"},model:{value:e.newFunc.description,callback:function(t){e.$set(e.newFunc,"description",t)},expression:"newFunc.description"}})],1),n("b-form-group",{attrs:{"label-cols-sm":"2",label:"URL:","label-align-sm":"right","label-for":"function-url"}},[n("b-form-input",{attrs:{id:"function-url"},model:{value:e.newFunc.funcURL,callback:function(t){e.$set(e.newFunc,"funcURL",t)},expression:"newFunc.funcURL"}})],1),n("b-form-group",{attrs:{"label-cols-sm":"2",label:"CA:","label-align-sm":"right","label-for":"function-ca"}},[n("b-form-input",{attrs:{id:"function-ca"},model:{value:e.newFunc.ca,callback:function(t){e.$set(e.newFunc,"ca",t)},expression:"newFunc.ca"}})],1),n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Result Cacheable:","label-align-sm":"right","label-for":"function-rc"}},[n("b-form-checkbox",{attrs:{id:"function-rc"},model:{value:e.newFunc.resultCachable,callback:function(t){e.$set(e.newFunc,"resultCachable",t)},expression:"newFunc.resultCachable"}})],1),e.newFunc.resultCachable?n("b-form-group",{attrs:{"label-cols-sm":"2",label:"Result TTL:","label-align-sm":"right","label-for":"function-ttl"}},[n("b-form-input",{attrs:{id:"function-ttl",type:"number"},model:{value:e.newFunc.resultTTL,callback:function(t){e.$set(e.newFunc,"resultTTL",t)},expression:"newFunc.resultTTL"}})],1):e._e()],1),n("b-button",{attrs:{variant:"outline-info"},on:{click:function(t){return e.$emit("addFunction",e.newFunc)}}},[e._v(" Create ")])],1)}),we=[],Pe={name:"NewFunction",components:{},props:{newFunc:{type:Object,required:!0}},data:function(){return{}},methods:{}},Se=Pe,ke=Object(d["a"])(Se,ge,we,!1,null,null,null),xe=ke.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-table",{attrs:{hover:"",small:"",responsive:"","head-variant":"light",fields:e.fields,items:e.functions},scopedSlots:e._u([{key:"cell(operation)",fn:function(t){return[n("b-button",{attrs:{pill:"",variant:"outline-danger",size:"sm"},on:{click:function(n){return e.$emit("removeFunction",t.item.name)}}},[n("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1)]}},{key:"cell(ca)",fn:function(t){return[n("b-button",{attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:function(n){return e.viewCA(t.item.ca)}}},[n("b-icon",{attrs:{icon:"eye-fill","aria-hidden":"true"}})],1)]}},{key:"cell(description)",fn:function(t){return[n("b-button",{attrs:{pill:"",variant:"outline-info",size:"sm"},on:{click:function(n){return e.viewDescription(t.item.description)}}},[n("b-icon",{attrs:{icon:"eye-fill","aria-hidden":"true"}})],1)]}}])})],1)},Ce=[],Ee={name:"FunctionTable",props:{functions:{type:Array,required:!0}},data:function(){return{fields:[{key:"name",label:"Name"},{key:"description",label:"Description"},{key:"funcURL",label:"URL"},{key:"ca",label:"CA"},{key:"resultCachable",label:"Result Cachable"},{key:"resultTTL",label:"Result TTL"},{key:"operation",label:"Operation"}]}},methods:{viewCA:function(e){this.$bvToast.toast("".concat(e),{title:"CA",autoHideDelay:5e3})},viewDescription:function(e){this.$bvToast.toast("".concat(e),{title:"Description",autoHideDelay:5e3})}}},Re=Ee,Fe=Object(d["a"])(Re,_e,Ce,!1,null,null,null),$e=Fe.exports,Te={name:"Functions",components:{NewFunction:xe,FunctionTable:$e},data:function(){return{functions:[],newFunction:{name:"",description:"",funcURL:"",ca:"",resultCachable:!1,resultTTL:0},newFunctionVisible:!1,functionSearch:""}},computed:{svcName:function(){return this.$store.state.svcName},pmsEndpoint:function(){return this.$store.state.pmsEndpoint},filteredFunctions:function(){var e=this;return this.functions.filter((function(t){return t.name.toLowerCase().includes(e.functionSearch.toLowerCase())}))}},watch:{pmsEndpoint:function(e){""!==e&&this.refreshFunctions()}},methods:{resetNewFunction:function(){this.newFunction={name:"",description:"",funcURL:"",ca:"",resultCachable:!1,resultTTL:0}},refreshFunctions:function(){var e=this;this.axios.get("".concat(this.pmsEndpoint,"/function")).then((function(t){console.log(t.data),e.functions=t.data})).catch((function(t){console.log(t),e.policies=[],e.$bvToast.toast("".concat(t.message),{title:"Fail to get functions",variant:"danger",solid:!0})}))},addFunction:function(e){var t=this;console.log("addFunction"),console.log(e.resultTTL),this.axios.post("".concat(this.pmsEndpoint,"/function"),{name:e.name,description:e.description,funcURL:e.funcURL,ca:e.ca,resultCachable:e.resultCachable,resultTTL:parseInt(e.resultTTL,10)}).then((function(e){console.log(e),t.resetNewFunction(),t.refreshFunctions()})).catch((function(e){console.log(e),t.$bvToast.toast("".concat(e.message),{title:"Fail to create function",variant:"danger",solid:!0})}))},removeFunction:function(e){var t=this;this.axios.delete("".concat(this.pmsEndpoint,"/function/").concat(e)).then((function(e){console.log(e),t.refreshFunctions()})).catch((function(e){console.log(e),t.$bvToast.toast("".concat(e.message),{title:"Fail to delete function",variant:"danger",solid:!0})}))}},mounted:function(){this.refreshFunctions()}},Ne=Te,Oe=Object(d["a"])(Ne,he,ye,!1,null,null,null),je=Oe.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{staticClass:"border-0 rounded-0  vh-100 overflow-auto",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"border-left rounded-0",attrs:{"header-bg-variant":"info","header-text-variant":"white"}},[e._v(" Welcome ")]),n("b-card-body",[n("H3",[e._v("Welcome to Speedle-Plus")]),n("ul",[n("li",[n("b-link",{staticClass:"card-link",attrs:{href:"https://github.com/teramoby/speedle-plus"}},[e._v("Speedle-Plus GitHub Repo")])],1),n("li",[n("b-link",{staticClass:"card-link",attrs:{href:"https://speedle.io/"}},[e._v("Speedle-Plus Docs")])],1)])],1)],1)},Ve=[],ze={name:"Welcome"},Ae=ze,qe=Object(d["a"])(Ae,Le,Ve,!1,null,null,null),De=qe.exports,Ue={name:"PolicyMgmt",components:{PolicyStore:x,Service:ve,Functions:je,Welcome:De},data:function(){return{pmsEndpoint:"",adsEndpoint:""}},computed:{pmsEndpointCur:function(){return this.$store.state.pmsEndpoint},adsEndpointCur:function(){return this.$store.state.adsEndpoint},selectedSvc:function(){return this.$store.state.svcName},functionsSelected:function(){return console.log("finctionsSelected ="),console.log(this.$store.state.functionsSelected),this.$store.state.functionsSelected}},methods:{updateSettings:function(){""!==this.pmsEndpoint&&this.$store.commit("updatePmsEndpoint",this.pmsEndpoint),""!==this.adsEndpoint&&this.$store.commit("updateAdsEndpoint",this.adsEndpoint),this.pmsEndpoint="",this.adsEndpoint="",this.$refs.settings.hide(!0)}}},Me=Ue,Ge=(n("65ed"),Object(d["a"])(Me,h,y,!1,null,null,null)),He=Ge.exports;o["default"].use(v["a"]);var We=[{path:"/",name:"Home",component:He}],Ie=new v["a"]({routes:We}),Je=Ie,Ye=n("2f62");o["default"].use(Ye["a"]);var Ke=new Ye["a"].Store({state:{pmsEndpoint:"http://localhost:6733/policy-mgmt/v1",adsEndpoint:"http://localhost:6734/authz-check/v1",svcName:"",functionsSelected:!1},mutations:{updatePmsEndpoint:function(e,t){e.pmsEndpoint=t},updateAdsEndpoint:function(e,t){e.adsEndpoint=t},updateSvcName:function(e,t){console.log(e.functionSelected),e.svcName=t,e.functionsSelected=!1},selectFunctions:function(e){console.log(e.functionSelected),e.functionsSelected=!0,console.log(e.functionSelected)}},actions:{},modules:{}});n("f9e3"),n("2dd8");o["default"].use(l.a,s.a),o["default"].use(a["a"]),o["default"].use(r["a"]),o["default"].config.productionTip=!1,new o["default"]({router:Je,store:Ke,render:function(e){return e(m)}}).$mount("#app")},"5ef7":function(e,t,n){"use strict";var o=n("fba7"),i=n.n(o);i.a},"65ed":function(e,t,n){"use strict";var o=n("2fd2"),i=n.n(o);i.a},db6e:function(e,t,n){},fba7:function(e,t,n){},fecb:function(e,t,n){"use strict";var o=n("db6e"),i=n.n(o);i.a}});
//# sourceMappingURL=app.486e939a.js.map