{"remainingRequest":"/home/cyding/speedle-ui/node_modules/babel-loader/lib/index.js!/home/cyding/speedle-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cyding/speedle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cyding/speedle-ui/src/components/PolicyStore.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cyding/speedle-ui/src/components/PolicyStore.vue","mtime":1596354952410},{"path":"/home/cyding/speedle-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cyding/speedle-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cyding/speedle-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cyding/speedle-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQb2xpY3lTdG9yZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGdldFNlcnZpY2VzU3VjY2VlZDogZmFsc2UsCiAgICAgIHNlcnZpY2VTZWFyY2g6ICcnLAogICAgICBmdW5jdGlvblNlYXJjaDogJycsCiAgICAgIHNlcnZpY2VzOiBbXSwKICAgICAgbmV3U3ZjOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdHlwZTogJycKICAgICAgfSwKICAgICAgbmV3U3ZjTmFtZVN0YXRlOiBudWxsLAogICAgICBmdW5jdGlvbnM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbHRlcmVkU2VydmljZXM6IGZ1bmN0aW9uIGZpbHRlcmVkU2VydmljZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlcy5maWx0ZXIoZnVuY3Rpb24gKHNlcnZpY2UpIHsKICAgICAgICByZXR1cm4gc2VydmljZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoX3RoaXMuc2VydmljZVNlYXJjaC50b0xvd2VyQ2FzZSgpKTsKICAgICAgfSk7CiAgICB9LAogICAgZmlsdGVyZWRGdW5jdGlvbnM6IGZ1bmN0aW9uIGZpbHRlcmVkRnVuY3Rpb25zKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLmZ1bmN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGYpIHsKICAgICAgICByZXR1cm4gZi5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoX3RoaXMyLmZ1bmN0aW9uU2VhcmNoLnRvTG93ZXJDYXNlKCkpOwogICAgICB9KTsKICAgIH0sCiAgICBwbXNFbmRwb2ludDogZnVuY3Rpb24gcG1zRW5kcG9pbnQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wbXNFbmRwb2ludDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBwbXNFbmRwb2ludDogZnVuY3Rpb24gcG1zRW5kcG9pbnQobmV3VmFsKSB7CiAgICAgIGlmIChuZXdWYWwgIT09ICcnKSB7CiAgICAgICAgdGhpcy5zZXRTdmNOYW1lKCcnKTsKICAgICAgICB0aGlzLnJlZnJlc2hTZXJ2aWNlcygpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRTdmNOYW1lOiBmdW5jdGlvbiBzZXRTdmNOYW1lKHN2Y05hbWUpIHsKICAgICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUuc3ZjTmFtZSk7CgogICAgICBpZiAoc3ZjTmFtZSAhPT0gdGhpcy4kc3RvcmUuc3RhdGUuc3ZjTmFtZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJzZXRTdmNOYW1lICIuY29uY2F0KHN2Y05hbWUpKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VwZGF0ZVN2Y05hbWUnLCBzdmNOYW1lKTsKICAgICAgfQogICAgfSwKICAgIHJlZnJlc2hTZXJ2aWNlczogZnVuY3Rpb24gcmVmcmVzaFNlcnZpY2VzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCIiLmNvbmNhdCh0aGlzLnBtc0VuZHBvaW50LCAiL3NlcnZpY2UiKSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YSk7CiAgICAgICAgX3RoaXMzLnNlcnZpY2VzID0gcmVzcC5kYXRhOwogICAgICAgIF90aGlzMy5nZXRTZXJ2aWNlc1N1Y2NlZWQgPSB0cnVlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICBfdGhpczMuc2VydmljZXMgPSBbXTsKCiAgICAgICAgX3RoaXMzLiRidlRvYXN0LnRvYXN0KCIiLmNvbmNhdChlcnIubWVzc2FnZSksIHsKICAgICAgICAgIHRpdGxlOiAnRmFpbCB0byBnZXQgc2VydmljZXMnLAogICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgICBzb2xpZDogdHJ1ZQogICAgICAgIH0pOwoKICAgICAgICBfdGhpczMuZ2V0U2VydmljZXNTdWNjZWVkID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZVN2YzogZnVuY3Rpb24gZGVsZXRlU3ZjKHN2Y05hbWUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygiZGVsZXRlU3ZjICIuY29uY2F0KHN2Y05hbWUpKTsKICAgICAgdGhpcy5heGlvcy5kZWxldGUoIiIuY29uY2F0KHRoaXMucG1zRW5kcG9pbnQsICIvc2VydmljZS8iKS5jb25jYXQoc3ZjTmFtZSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CgogICAgICAgIF90aGlzNC5yZWZyZXNoU2VydmljZXMoKTsKCiAgICAgICAgaWYgKF90aGlzNC4kc3RvcmUuc3RhdGUuc3ZjTmFtZSA9PT0gc3ZjTmFtZSkgewogICAgICAgICAgX3RoaXM0LnNldFN2Y05hbWUoJycpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CgogICAgICAgIF90aGlzNC4kYnZUb2FzdC50b2FzdCgiIi5jb25jYXQoZXJyLm1lc3NhZ2UpLCB7CiAgICAgICAgICB0aXRsZTogIkZhaWwgdG8gZGVsZXRlIHNlcnZpY2UgIi5jb25jYXQoc3ZjTmFtZSksCiAgICAgICAgICB2YXJpYW50OiAnZGFuZ2VyJywKICAgICAgICAgIHNvbGlkOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZVN2YzogZnVuY3Rpb24gY3JlYXRlU3ZjKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCdjcmVhdGVTdmMnKTsKICAgICAgY29uc29sZS5sb2codGhpcy5uZXdTdmMubmFtZSk7CiAgICAgIHRoaXMuYXhpb3MucG9zdCgiIi5jb25jYXQodGhpcy5wbXNFbmRwb2ludCwgIi9zZXJ2aWNlIiksIHsKICAgICAgICBuYW1lOiB0aGlzLm5ld1N2Yy5uYW1lLAogICAgICAgIHR5cGU6IHRoaXMubmV3U3ZjLnR5cGUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKCiAgICAgICAgX3RoaXM1LnJlZnJlc2hTZXJ2aWNlcygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKCiAgICAgICAgX3RoaXM1LiRidlRvYXN0LnRvYXN0KCIiLmNvbmNhdChlcnIubWVzc2FnZSksIHsKICAgICAgICAgIHRpdGxlOiAnRmFpbCB0byBjcmVhdGUgc2VydmljZScsCiAgICAgICAgICB2YXJpYW50OiAnZGFuZ2VyJywKICAgICAgICAgIHNvbGlkOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0TmV3U3ZjOiBmdW5jdGlvbiByZXNldE5ld1N2YygpIHsKICAgICAgdGhpcy5uZXdTdmMubmFtZSA9ICcnOwogICAgICB0aGlzLm5ld1N2Yy50eXBlID0gJyc7CiAgICAgIHRoaXMubmV3U3ZjTmFtZVN0YXRlID0gbnVsbDsKICAgIH0sCiAgICBjaGVja0Zvcm1WYWxpZGl0eTogZnVuY3Rpb24gY2hlY2tGb3JtVmFsaWRpdHkoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjaGVja0Zvcm1WYWxpZGl0eS4uLicpOwogICAgICB2YXIgdmFsaWQgPSB0aGlzLiRyZWZzLmNyZWF0ZVN2Y2Zvcm0uY2hlY2tWYWxpZGl0eSgpOwogICAgICB0aGlzLm5ld1N2Y05hbWVTdGF0ZSA9IHZhbGlkOwogICAgICByZXR1cm4gdmFsaWQ7CiAgICB9LAogICAgaGFuZGxlT2s6IGZ1bmN0aW9uIGhhbmRsZU9rKGJ2TW9kYWxFdnQpIHsKICAgICAgY29uc29sZS5sb2coJ2hhbmRsZU9rLi4uJyk7IC8vIFByZXZlbnQgbW9kYWwgZnJvbSBjbG9zaW5nCgogICAgICBidk1vZGFsRXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vIFRyaWdnZXIgc3VibWl0IGhhbmRsZXIKCiAgICAgIHRoaXMuaGFuZGxlU3VibWl0KCk7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coJ2hhbmRsZVN1Ym1pdC4uLicpOyAvLyBFeGl0IHdoZW4gdGhlIGZvcm0gaXNuJ3QgdmFsaWQKCiAgICAgIGlmICghdGhpcy5jaGVja0Zvcm1WYWxpZGl0eSgpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmNyZWF0ZVN2YygpOyAvLyBIaWRlIHRoZSBtb2RhbCBtYW51YWxseQoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNi4kYnZNb2RhbC5oaWRlKCdjcmVhdGVTdmMnKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgdGhpcy5yZWZyZXNoU2VydmljZXMoKTsKICAgIHRoaXMuYXhpb3MuZ2V0KCIiLmNvbmNhdCh0aGlzLnBtc0VuZHBvaW50LCAiL2Z1bmN0aW9uIikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICBfdGhpczcuZnVuY3Rpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29uc29sZS5sb2coZXJyKTsKCiAgICAgIF90aGlzNy4kYnZUb2FzdC50b2FzdCgiIi5jb25jYXQoZXJyLm1lc3NhZ2UpLCB7CiAgICAgICAgdGl0bGU6ICdGYWlsIHRvIGdldCBmdW5jdGlvbnMnLAogICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgIHNvbGlkOiB0cnVlCiAgICAgIH0pOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["PolicyStore.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<b-card bg-variant=\"light\"\n no-body class=\"border-0 rounded-0  vh-100 overflow-auto\">\n  <!--<b-card-header v-if=\"getServicesSucceed\" class=\"border-right rounded-0\">-->\n  <b-card-header class=\"border-right rounded-0\">\n    <b-row>\n      <b-col cols=\"8\">\n        Policy Store Navigation\n      </b-col>\n      <b-col cols=\"4\">\n        <b-button @click=\"refreshServices\" pill variant=\"outline-success\">\n            <b-icon icon=\"arrow-repeat\" aria-hidden=\"true\" size=\"sm\"></b-icon>\n        </b-button>\n      </b-col>\n    </b-row>\n  </b-card-header>\n  <!--<b-card-header v-else header-bg-variant=\"danger\" header-text-variant=\"white\"\n   class=\"border-left rounded-0\">\n      Pls set PMS endpoint correctly!!!\n  </b-card-header>-->\n  <b-card-body class=\"border-right\">\n    <b-row class=\"mt-3 mb-2 \">\n      <b-col cols=\"5\">\n        <b-button block v-b-toggle.service-list variant=\"primary\">\n          Services\n        </b-button>\n      </b-col>\n      <b-col cols=\"3\">\n        <b-button v-b-modal.createSvc pill variant=\"outline-success\">\n          <b-icon icon=\"pencil-square\" aria-hidden=\"true\"></b-icon>\n        </b-button>\n        <b-modal id=\"createSvc\" title=\"Create Service\"\n               ref=\"createSvcModal\"\n               @show=\"resetNewSvc\"\n               @hidden=\"resetNewSvc\"\n               @ok=\"handleOk\">\n          <form ref=\"createSvcform\" @submit.stop.prevent=\"handleSubmit\">\n            <b-form-group label=\"Name:\" label-align=\"right\" label-cols=\"4\" label-for=\"input-name\">\n              <b-form-input id=\"input-name\" v-model=\"newSvc.name\"\n               :state=\"newSvcNameState\" required></b-form-input>\n            </b-form-group>\n            <b-form-group label=\"Type:\" label-align=\"right\" label-cols=\"4\" label-for=\"input-type\">\n              <b-form-input id=\"input-type\" v-model=\"newSvc.type\"></b-form-input>\n            </b-form-group>\n          </form>\n        </b-modal>\n      </b-col>\n      <b-col cols=\"3\">\n        <b-form-input  type=\"text\"\n        v-model=\"serviceSearch\" placeholder=\"*\"/>\n      </b-col>\n    </b-row>\n    <b-collapse id=\"service-list\">\n      <b-list-group flush>\n        <b-list-group-item button\n          v-for=\"s in filteredServices\" :key=\"s.name\" @click=\"setSvcName(s.name)\">\n          <b-row>\n            <b-col cols=\"2\"/>\n            <b-col cols=\"7\">{{s.name}}</b-col>\n            <b-col cols=\"3\">\n              <b-button class=\"h-75 mb-2\" pill variant=\"outline-danger\" size=\"sm\"\n                    v-b-modal=\"s.name\" @click.stop>\n                <b-icon icon=\"trash\" aria-hidden=\"true\"></b-icon>\n              </b-button>\n              <b-modal :id=\"s.name\" title=\"Delete Service\"  @ok=\"deleteSvc(s.name)\">\n                <p class=\"my-4\">Continue deleting service {{s.name}}</p>\n              </b-modal>\n            </b-col>\n          </b-row>\n        </b-list-group-item>\n      </b-list-group>\n    </b-collapse>\n\n    <b-row class=\"mt-3 mb-2\">\n      <b-col cols=\"5\">\n        <b-button  block v-b-toggle.function-list variant=\"primary\">\n          Functions\n        </b-button>\n      </b-col>\n      <b-col cols=\"3\">\n        <b-button pill variant=\"outline-success\"\n        @click=\"createSvc\">\n        <b-icon icon=\"pencil-square\" aria-hidden=\"true\"></b-icon>\n        </b-button>\n      </b-col>\n      <b-col cols=\"3\">\n        <b-form-input  type=\"text\"\n        v-model=\"functionSearch\" placeholder=\"*\"/>\n      </b-col>\n    </b-row>\n    <b-collapse id=\"function-list\">\n      <b-list-group flush>\n        <b-list-group-item v-for=\"s in filteredFunctions\" :key=\"s.name\" href=\"#\">\n          <b-row>\n            <b-col cols=\"2\"/>\n            <b-col cols=\"7\">{{s.name }}</b-col>\n            <b-col cols=\"3\">\n              <b-button cols=\"4\" class=\"h-75 mb-2\" pill variant=\"outline-danger\" size=\"sm\"\n                    @click=\"removeService(s.name)\">\n                    <b-icon icon=\"trash\" aria-hidden=\"true\"></b-icon>\n              </b-button>\n            </b-col>\n          </b-row>\n        </b-list-group-item>\n      </b-list-group>\n    </b-collapse>\n  </b-card-body>\n</b-card>\n</template>\n\n<script>\nexport default {\n  name: 'PolicyStore',\n  data() {\n    return {\n      getServicesSucceed: false,\n      serviceSearch: '',\n      functionSearch: '',\n      services: [],\n      newSvc: {\n        name: '',\n        type: '',\n      },\n      newSvcNameState: null,\n      functions: [],\n    };\n  },\n  computed: {\n    filteredServices() {\n      return this.services.filter(\n        (service) => service.name.toLowerCase().includes(this.serviceSearch.toLowerCase()),\n      );\n    },\n    filteredFunctions() {\n      return this.functions.filter(\n        (f) => f.name.toLowerCase().includes(this.functionSearch.toLowerCase()),\n      );\n    },\n    pmsEndpoint() {\n      return this.$store.state.pmsEndpoint;\n    },\n  },\n  watch: {\n    pmsEndpoint(newVal) {\n      if (newVal !== '') {\n        this.setSvcName('');\n        this.refreshServices();\n      }\n    },\n  },\n  methods: {\n    setSvcName(svcName) {\n      console.log(this.$store.state.svcName);\n      if (svcName !== this.$store.state.svcName) {\n        console.log(`setSvcName ${svcName}`);\n        this.$store.commit('updateSvcName', svcName);\n      }\n    },\n    refreshServices() {\n      this.axios.get(`${this.pmsEndpoint}/service`).then((resp) => {\n        console.log(resp.data);\n        this.services = resp.data;\n        this.getServicesSucceed = true;\n      }).catch((err) => {\n        console.log(err);\n        this.services = [];\n        this.$bvToast.toast(`${err.message}`, {\n          title: 'Fail to get services',\n          variant: 'danger',\n          solid: true,\n        });\n        this.getServicesSucceed = false;\n      });\n    },\n    deleteSvc(svcName) {\n      console.log(`deleteSvc ${svcName}`);\n      this.axios.delete(`${this.pmsEndpoint}/service/${svcName}`).then((response) => {\n        console.log(response.data);\n        this.refreshServices();\n        if (this.$store.state.svcName === svcName) {\n          this.setSvcName('');\n        }\n      }).catch((err) => {\n        console.log(err);\n        this.$bvToast.toast(`${err.message}`, {\n          title: `Fail to delete service ${svcName}`,\n          variant: 'danger',\n          solid: true,\n        });\n      });\n    },\n    createSvc() {\n      console.log('createSvc');\n      console.log(this.newSvc.name);\n      this.axios.post(`${this.pmsEndpoint}/service`,\n        { name: this.newSvc.name, type: this.newSvc.type }).then((response) => {\n        console.log(response.data);\n        this.refreshServices();\n      }).catch((err) => {\n        console.log(err);\n        this.$bvToast.toast(`${err.message}`, {\n          title: 'Fail to create service',\n          variant: 'danger',\n          solid: true,\n        });\n      });\n    },\n    resetNewSvc() {\n      this.newSvc.name = '';\n      this.newSvc.type = '';\n      this.newSvcNameState = null;\n    },\n    checkFormValidity() {\n      console.log('checkFormValidity...');\n      const valid = this.$refs.createSvcform.checkValidity();\n      this.newSvcNameState = valid;\n      return valid;\n    },\n    handleOk(bvModalEvt) {\n      console.log('handleOk...');\n      // Prevent modal from closing\n      bvModalEvt.preventDefault();\n      // Trigger submit handler\n      this.handleSubmit();\n    },\n    handleSubmit() {\n      console.log('handleSubmit...');\n      // Exit when the form isn't valid\n      if (!this.checkFormValidity()) {\n        return;\n      }\n      this.createSvc();\n      // Hide the modal manually\n      this.$nextTick(() => {\n        this.$bvModal.hide('createSvc');\n      });\n    },\n  },\n  mounted() {\n    this.refreshServices();\n    this.axios.get(`${this.pmsEndpoint}/function`).then((response) => {\n      console.log(response.data);\n      this.functions = response.data;\n    }).catch((err) => {\n      console.log(err);\n      this.$bvToast.toast(`${err.message}`, {\n        title: 'Fail to get functions',\n        variant: 'danger',\n        solid: true,\n      });\n    });\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}